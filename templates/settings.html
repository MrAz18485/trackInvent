<!-- https://stackoverflow.com/questions/31662681/flask-handle-form-with-radio-buttons  Helped me in making the connection between flask and radio button-->
<!-- https://stackoverflow.com/questions/14591202/how-to-make-a-radiofield-in-flask for the help in radio buttons-->
<!-- https://stackoverflow.com/questions/9887360/how-can-i-check-if-a-checkbox-is-checked - Helped me in checking the state of switch, i.e. checked or unchecked at a change-->
{% extends "layout.html" %}

{% block header %}
    <title>Settings</title>
    <script>        
        document.addEventListener('DOMContentLoaded', function(){
            let inputs = document.querySelectorAll(".form-check-input");
            var themeState = localStorage.getItem("darkThemeEnabled")
            if (themeState == "true") {
                inputs[0].checked = true;
            }
            else {
                inputs[0].checked = false;
            }
            inputs.forEach((element) =>
                element.addEventListener('change', e => {
                    if (e.target.checked == true) {
                        console.log("Switch checked!");
                        localStorage.setItem("darkThemeEnabled", "true");
                    }
                    else {
                        console.log("Switch unchecked!");
                        localStorage.setItem("darkThemeEnabled", "false");
                    }
                    location.reload()
                })
            );
        });
    </script>
    <form action="/settings">
            <div id="container">
                <h1 style="text-align: center; justify-content: center;">Settings</h1>
            </div>
    </form>
{% endblock %}


{% block body %}
    <form action="/settings" method="POST">
        <div class="form-check form-switch d-flex flex-column align-items-center">
            <label class="form-check-label justify-content-center mr-3" for="flexSwitchCheckDefault" ><h4>Dark Mode</h4></label>
            <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault" style="transform: scale(1.3);">
        </div>
    </form>
{% endblock %}